<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>SM64 Player</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            font-family: Arial, Helvetica, sans-serif;
            color: white;
            image-rendering: pixelated;
            overflow: hidden;
        }
        #container {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        canvas {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <center>
        <h1>Click to start this nostalgia</h1>
        <h3>SM64-JS | Made by Chase Wicklund on replit! (@jscraft) revived by @ripjaw1219, fullscreen by @supervoidcoder</h3>
    </center>
    <script>
        document.addEventListener('click', function() {
            document.querySelector('center').style.display = 'none';
//ugh this is getting annoying it's all broken IT'S ALL BROKEN IT'S ALL
            const container = document.createElement('div');
            container.id = 'container';
            document.body.appendChild(container);
            
            const canvas = document.createElement('canvas');
            canvas.id = 'canvas';
            container.appendChild(canvas);
            
            // fullscreeny
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const script = document.createElement('script');
            script.async = true;
            script.src = './game/sm64.js';
            script.onload = () => {
                const Module = {
                    canvas: canvas,
                };
            };
            document.body.appendChild(script);
            canvas.addEventListener('webglcontextlost', function(e) {
                alert('WebGL context lost. You will need to reload the page.');
                e.preventDefault();
            });
        });
    </script>
</body>
</html>
